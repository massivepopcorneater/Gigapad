performance.mark("js-parse-end:23262-f15f14ad122c9bf9.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["23262"],{93096(e,t,r){r.d(t,{A:()=>i});var s=r(36590),n=r.n(s);function i(e,{capitalize:t=!1}={}){if(!function(e){let t={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},r={m:{constraints:[0,0,59,0],allowedSyntax:/^[0-9,*/?-]+$/},h:{constraints:[1,0,23,0],allowedSyntax:/^[0-9,*/?-]+$/},D:{constraints:[2,1,31,0],allowedSyntax:/^[0-9,*/?-]+$/},M:{constraints:[3,1,12,0],allowedSyntax:/^([0-9,*/?-]|JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)+$/},d:{constraints:[4,1,7,1],allowedSyntax:/^([0-6,*/?-]|SUN|MON|TUE|WED|THU|FRI|SAT)+$/}};function s(e,r=0,n=9999){if(isNaN(e))return t[e]||null;let i=+e+r;if(i<0||i>n)throw Error(`Number ${i} out of range [0, ${n}].`);return i}function n(e,t,r,s,i=1){e[t]||(e[t]=[]);for(let n=r;n<=s;n+=i)0>e[t].indexOf(n)&&e[t].push(n);e[t].sort((e,t)=>e-t)}try{return function(e){let t=e.replace(/(\s)+/g," ").split(" ");if(!function(e){if(e.length>Object.keys(r).length)return!1;for(let t=0;t<e.length;t++){let s=e[t],n=Object.values(r).find(e=>e.constraints[0]===t).allowedSyntax;if(!s.match(n)||s.startsWith("/"))return!1}return!0}(t))return null;let i={schedules:[{}],exceptions:[]};for(let e in r){let a=r[e],o=t[a.constraints[0]];if(o&&"*"!==o&&"?"!==o){let t=o.split(",");for(let r=0;r<t.length;r++)!function(e,t,r,i,a,o){let l,u=t.schedules,c=u[u.length-1];if(null!==(l=s(e,o,a)))n(c,r,l,l);else{var p=i,h=a;let t=e.split("/"),l=+t[1]||void 0,u=t[0];if("*"!==u&&"0"!==u){let e=u.split("-");p=s(e[0],o,h),h=s(e[1],o,h)||h}n(c,r,p,h,l)}}(t[r],i,e,a.constraints[1],a.constraints[2],a.constraints[3])}}return i}(e.toUpperCase())}catch{return null}}(e))return null;let r="";try{r=n().toString(e,{dayOfWeekStartIndexZero:!0,monthStartIndexZero:!1,use24HourTimeFormat:!0,throwExceptionOnParseError:!0})}catch{return null}return r?t?r:r.charAt(0).toLowerCase()+r.slice(1):null}},2989(e,t,r){let s;r.d(t,{v:()=>E});var n=r(24905),i=r(27315),a=r(23131),o=r(6997),l=r(93096),u=r(1253);let c=["uses","with"],p=["run","working-directory","shell"],h=new Map,d=async(e,t)=>{let r=t[t.length-1],s=(c.includes(r)?c:p)===c?p:c,n=(0,i.hj)(e,t.slice(0,t.length-1)),a=s.filter(e=>n.includes(e));if(0!==a.length)return{message:(0,o.qy)` ${(0,i.Ok)(r)} cannot be used with ${(0,i.Xh)(a)} `,severity:"warning"}},g=["concurrency","container","continue-on-error","defaults","env","environment","if","name","needs","runs-on","snapshot","outputs","permissions","services","steps","strategy","timeout-minutes"],f=["if","name","needs","permissions","secrets","uses","with","concurrency","strategy"],m=async(e,t)=>{let r=t[t.length-1];if(g.includes(r)!==f.includes(r)){let s=(0,i.hj)(e,t.slice(0,t.length-1)).filter(e=>e!==r).filter(e=>g.includes(e)!==f.includes(e)&&g.includes(e)!==g.includes(r));if(0===s.length)return;return{message:(0,o.qy)` You can't use ${(0,i.Ok)(r)} with ${(0,i.Xh)(s)} `,severity:"error"}}},y=async(e,t)=>{if(!a.XY.isFeatureEnabled("actions_matrix_output_improvements"))return;let r=t[t.length-1];if((0,i.lz)(r))return;let s=(0,i.PR)(r).filter(e=>!e.startsWith("matrix."));if(0!==s.length)return{message:(0,o.qy)` Only ${(0,i.Ok)("matrix")} context can be used in output key expression, invalid contexts found:
    ${s.join(", ")}`,severity:"error"}},b=async(e,t)=>{if(!a.XY.isFeatureEnabled("actions_matrix_output_improvements"))return;let r=t[t.length-1];if((0,i.lz)(r))return;let s=(0,i.PR)(r).filter(e=>!e.startsWith("inputs."));if(0!==s.length)return{message:(0,o.qy)` Only ${(0,i.Ok)("inputs")} context can be used in output key expression, invalid contexts found:
    ${s.join(", ")}`,severity:"error"}},v=["string","number","boolean"],w=["branch_protection_rule","check_run","check_suite","commit_comment","create","delete","deployment","deployment_status","discussion","discussion_comment","fork","gollum","issue_comment","issues","label","member","milestone","package","page_build","project","project_card","project_column","public","pull_request_review_comment","pull_request_review","registry_package","repository_dispatch","release","status","watch"],k=["image_version","merge_group","push","pull_request","pull_request_target","schedule","workflow_call","workflow_run","workflow_dispatch"].concat(w),_={single:["string"],items:{single:["string"]}},j={validateValue:i.fN,single:["string"],items:{validateValue:i.fN,single:["string"]}},$=()=>{let e={nullable:!0,rules:{branches:j,"branches-ignore":j,tags:j,"tags-ignore":j,paths:j,"paths-ignore":j,types:_}};return a.XY.isFeatureEnabled("actions_green_trees")&&(e.rules={...e.rules,"reuse-previous-outcome":{nullable:!1,single:["boolean"]}}),e},q={merge_group:(s={nullable:!0,rules:{branches:j,"branches-ignore":j}},a.XY.isFeatureEnabled("actions_green_trees")&&(s.rules={...s.rules,"reuse-previous-outcome":{nullable:!1,single:["boolean"]}}),s),push:$(),pull_request:$(),pull_request_target:$(),schedule:{items:{rules:{cron:{single:["string"],validateValue:async(e,t,r)=>{let s=(0,l.A)(String(r));if(!s)return{message:(0,o.qy)` Unrecognized cron expression `,severity:"warning"};let n=document.getElementById("workflow-on-schedule-url")?.getAttribute("data-on-schedule-url")||"";return{message:(0,o.qy)`
                Runs ${s}. <br />
                Actions schedules run at most every 5 minutes using UTC time.
                <a class="Link--inTextBlock" href="${n}" target="_blank">Learn more</a>
              `,severity:"info"}}}}}},workflow_run:{nullable:!0,rules:{branches:j,"branches-ignore":j,workflows:_,types:_}}};for(let e of w)q[e]={nullable:!0};let T={single:["string"],values:["read","write","none"]},x={actions:T,"artifact-metadata":T,attestations:T,checks:T,contents:T,deployments:T,discussions:T,issues:T,models:T,packages:T,pages:T,"pull-requests":T,"repository-projects":T,"security-events":T,statuses:T,"id-token":T},A={image:{description:"The Docker image to use as the container to run the action",single:["string"]},env:{description:"Sets an array of environment variables in the container",map:{single:["string","number","boolean"]}},ports:{description:"Sets an array of ports to expose on the container",items:{single:["number","string"]}},volumes:{description:"Sets an array of volumes for the container to use",items:{single:["string"]}},options:{description:"Additional Docker container resource options",single:["string"]},credentials:{description:"The username and password to log in to the registry with",rules:{username:{description:"Container registry username",single:["string"],required:!0},password:{description:"Container registry password",single:["string"],required:!0}}}};function O(e){return({number:"integer",string:"string",boolean:"boolean",environment:"string",choice:"string"})[e]||"invalid"}function E(e){let t;a.XY.isFeatureEnabled("actions_image_version_event")&&(q.image_version={nullable:!0,rules:{types:j,names:j,versions:j}});let r={suggestionsForExpression:I,processExpression:C,rules:{name:{description:"The name of your workflow",single:["string"]},"run-name":{description:"The name of the run",single:["string"]},defaults:{description:"A set of workflow defaults that will apply to all jobs",rules:{run:{description:"Set default behavior for all `run` steps within workflow",rules:{shell:{description:"Set default `shell` for all `run` steps within workflow",single:["string"]},"working-directory":{description:"Set default `working-directory` for all `run` steps within workflow",single:["string"]}}}}},on:{description:"The name of the GitHub event that triggers the workflow",required:!0,values:k,multipleValues:!0,rules:q},concurrency:{description:"The concurrency for this job",single:["string"],rules:{group:{description:"The name of the concurrency group to wait for",single:["string"],required:!0},"cancel-in-progress":{description:"If new run should cancel in progress runs",single:["boolean"],required:!1}}},env:{description:"A map of environment variables that are available to all jobs and steps in the workflow",map:{single:v}},jobs:{description:"A workflow run is made up of one or more jobs",keyPlaceholder:"job_id",keyPlaceholderHelp:"Enter the id for the new job",map:{async validateKey(e,t){let r=t[1].toLowerCase();if(!/^[a-z_]/i.test(r))return{message:(0,o.qy)` Job id must start with a letter or ${(0,i.Ok)("_")} `,severity:"error"};if(!/^[\w-]+$/i.test(r))return{message:(0,o.qy)` Job id must contain only alphanumeric characters, ${(0,i.Ok)("-")}, or ${(0,i.Ok)("_")} `,severity:"error"};if((0,i.hj)(e,t.slice(0,t.length-1)).map(e=>e.toLowerCase()).filter(e=>e===r).length>1)return{message:(0,o.qy)` This job id is already used in another job `,severity:"error"};let s=(0,i.hj)(e,t);if(!s.includes("runs-on")&&!s.includes("uses"))return{message:(0,o.qy)` A job requires either ${(0,i.Ok)("runs-on")} or ${(0,i.Ok)("uses")} `,severity:"error"}},rules:{...a.XY.isFeatureEnabled("actions_enable_snapshot_keyword")&&{snapshot:{description:"Controls generating a custom image from this job",single:["string"],validateValue:async(e,t,r)=>D(r,L,(0,o.qy)` ${B} `),rules:{"image-name":{description:"The image name",single:["string"],keyPlaceholder:"custom-image-name",keyPlaceholderHelp:"Enter the name for the image",validateValue:async(e,t,r)=>D(r,L,(0,o.qy)` ${B} `)},if:{description:"Only create a snapshot if the condition is met",single:["string","boolean"]},version:{description:"The major version to publish the snapshot as, use * to auto-increment minor version",single:["string"],keyPlaceholder:"1.*",keyPlaceholderHelp:"Enter the version of the snapshot image",validateValue:async(e,t,r)=>D(r,H,(0,o.qy)` Version must be a number or in the format '1' or '1.*' where * will auto-increment minor version`)}}}},if:{description:"You can use the `if` conditional to prevent a job from running unless a condition is met",single:["string","boolean"]},env:{validateKey:m,description:"A map of environment variables that are available to all steps in the job",map:{single:v}},name:{validateKey:m,description:"The name of the job displayed on GitHub",single:["string"],async validateValue(e,t,r){if("string"!=typeof r)return;let s=(0,i.cy)(e,["jobs"]);if(s&&"object"==typeof s)for(let e in s){if(e===t[1])continue;let n=s[e];if("object"==typeof n&&null!==n&&(n.name||e)===r)return{message:(0,o.qy)` This job name is already used in another job `,severity:"error"}}}},outputs:{validateKey:m,description:"Declare outputs from this job",map:{single:v,validateKey:y}},defaults:{validateKey:m,description:"A set of job defaults that will apply to all steps",rules:{run:{description:"Set default behavior for all `run` steps within job",rules:{shell:{description:"Set default `shell` for all `run` steps within job",single:["string"]},"working-directory":{description:"Set default `working-directory` for all `run` steps within job",single:["string"]}}}}},concurrency:{validateKey:m,description:"The concurrency for this job",single:["string"],rules:{group:{description:"The name of the concurrency group to wait for",single:["string"],required:!0},"cancel-in-progress":{description:"If new run should cancel in progress runs",single:["boolean"],required:!1}}},environment:{validateKey:m,description:"The environment for this job",single:["string"],rules:{name:{description:"The name of the environment",single:["string"],required:!0},url:{description:"Set the URL for accessing your environment",single:["string"],required:!1}}},needs:{description:"Identifies any jobs that must complete successfully before this job will run",multipleValues:!0,values:async(e,t)=>(0,i.hj)(e,["jobs"]).filter(e=>e!==t[1]),async validateValue(e,t,r){if("string"==typeof r&&!(await this.values(e,t)).includes(r))return r===t[1]?{message:(0,o.qy)` A job cannot depend on itself `,severity:"error"}:{message:(0,o.qy)` Unknown job ${(0,i.Ok)(r)} `,severity:"error"}}},"runs-on":{validateKey:m,description:"The type of virtual host machine to run the job on",required:!1,multipleValues:!0,caseInsensitive:!0,single:["string"],items:{single:["string"]},rules:{group:{description:"The runner group name to target the runner group",single:["string"]},labels:{description:"The type of virtual host machine to run the job on",multipleValues:!0,caseInsensitive:!0}}},steps:{validateKey:m,description:"The sequence of tasks to run in this job",items:{rules:{id:{description:"A unique identifier for the step",single:["string"],async validateValue(e,t,r){if("string"!=typeof r)return;let s=(0,i.cy)(e,t.slice(0,3));if(Array.isArray(s)&&((s=s.slice()).splice(+t[3],1),s.find(e=>"object"==typeof e&&null!==e&&e.id===r)))return{message:(0,o.qy)` This step id is already used in another step `,severity:"error"}}},if:{description:"Prevents the step from running unless the condition is met",single:["string","boolean"]},name:{description:"The name to display on GitHub",single:["string"]},uses:{description:"Selects an action to run as part of a step in your job",validateKey:d,single:["string"],async validateValue(e,t,r){if("string"!=typeof r||r.startsWith("docker://")||r.startsWith("./"))return;let[s,n]=r.split("@");if(!n)return{message:(0,o.qy)` Missing version for action `,severity:"error"};if(/\b[0-9a-f]{7,8}\b/i.test(n)){let e=document.getElementById("workflow-short-sha-warning-url")?.getAttribute("data-help-url")||"";return{message:(0,o.qy)`
                            The ref ${(0,i.Ok)(n)} looks like a short sha. This is not supported, please check the
                            <a class="Link--inTextBlock" href="${e}" target="_blank">documentation</a>.
                          `,severity:"warning"}}}},run:{description:"Runs command line programs using the operating system's shell",validateKey:d,single:["string"]},shell:{description:"Overrides the default shell settings in the virtual environment's operating system",validateKey:d,single:["string"],validateValue:async(e,t,r)=>{if("string"!=typeof r||["bash","pwsh","python","sh","cmd","powershell"].includes(r)||"string"==typeof r&&r.match(/^\S+ +\{0\}$/i))return;let s=document.getElementById("workflow-shell-help-url").getAttribute("data-help-url");return{message:(0,o.qy)`Invalid value. Please check the
                          <a class="Link--inTextBlock" href="${s}" target="_blank">documentation</a>.`,severity:"error"}}},with:{description:"A map of the input parameters defined by the action",validateKey:d,map:{single:v}},env:{description:"Sets environment variables for steps to use in the virtual environment",map:{single:v}},"working-directory":{description:"The default directory that the action uses in a job's workspace",validateKey:d,single:["string"]},"continue-on-error":{description:"Prevents a job from failing when a step fails",single:["boolean"],values:["true","false"]},"timeout-minutes":{description:"The maximum number of minutes to run the step before killing the process",single:["number"]}}}},"timeout-minutes":{validateKey:m,description:"The maximum number of minutes to let a workflow run before GitHub automatically cancels it",single:["number"]},"continue-on-error":{validateKey:m,description:"Prevents a workflow run from failing when a job fails",single:["boolean"],values:["true","false"]},strategy:{validateKey:m,description:"A strategy creates a build matrix for your jobs",rules:{matrix:{description:"Set of different configurations of the virtual environment",map:{items:{single:v,map:{single:v}},async validateKey(e,t){let r=(0,i.cy)(e,t);if("object"!=typeof r||!Array.isArray(r))return;let s=["config","exclude","include"],n=t[t.length-1];if(s.includes(n)){if(0===r.length)return;if("object"!=typeof r[0])return{message:(0,o.qy)` ${(0,i.Xh)(s)} must be an array of objects `,severity:"error"}}else{if(0===r.length)return{message:(0,o.qy)` ${n} must contain at least one value `,severity:"error"};if("object"==typeof r[0])return{message:(0,o.qy)` Matrix options must only contain primitive values `,severity:"error"}}}}},"fail-fast":{description:"When set to true, GitHub cancels all in-progress jobs if any matrix job fails",single:["boolean"],values:["true","false"]},"max-parallel":{description:"The maximum number of jobs that can run simultaneously",single:["number"]}}},container:{validateKey:m,description:"A container to run any steps in a job that don't already specify a container",single:["string"],rules:A},services:{validateKey:m,description:"Additional containers to host services for a job in a workflow",map:{single:["string"],rules:A}},permissions:{description:"Control permissions for runnings jobs in a workflow",single:["string"],values:["read-all","write-all"],rules:x},uses:{validateKey:m,description:"Run a reusable workflow as a job",single:["string"],async validateValue(e,t,r){if("string"!=typeof r)return;if(!r.includes(".github/workflows/")&&!r.includes(".github/workflows-lab/"))return{message:(0,o.qy)` Missing the full path for reusable workflow `,severity:"error"};let[s,n]=r.split("@");if(!n&&!r.startsWith("./"))return{message:(0,o.qy)` Missing version for reusable workflow `,severity:"error"};if(n&&r.startsWith("./"))return{message:(0,o.qy)` Cannot call a local reusable workflow with a version `,severity:"error"};if(""===n&&r.startsWith("./"))return{message:(0,o.qy)` Invalid path to local reusable workflow file (@) `,severity:"error"};if(/\b[0-9a-f]{7,8}\b/i.test(n)){let e=document.getElementById("workflow-short-sha-warning-url")?.getAttribute("data-help-url")||"";return{message:(0,o.qy)`
                      The ref ${(0,i.Ok)(n)} looks like a short sha. This is not supported, please check the
                      <a class="Link--inTextBlock" href="${e}" target="_blank">documentation</a>.
                    `,severity:"warning"}}}},secrets:{description:"A map of the secret parameters defined by the reusable workflow. Use `inherit` to pass all secrets to the referenced workflow",validateKey:m,async validateValue(e,t,r){if("string"==typeof r&&"inherit"!==r)return{message:(0,o.qy)`Use ${(0,i.Ok)("inherit")} to pass all secrets to the called workflow.`,severity:"error"}},single:["string"],map:{single:v}},with:{description:"A map of the input parameters defined by the reusable workflow",validateKey:m,map:{single:v}}}}},permissions:{description:"Control permissions for runnings jobs in a workflow",single:["string"],values:["read-all","write-all"],rules:x}}};return q.workflow_dispatch={async validateValue(e,t,r){if(null!==r){let e=document.getElementById("workflow-dispatch-help-url")?.getAttribute("data-help-url")||"https://docs.github.com";return{message:(0,o.qy)` ${(0,i.Ok)("workflow_dispatch")} only supports mapping values. <a class="Link--inTextBlock" href="${e}" target="_blank">Learn more</a> `,severity:"error"}}},nullable:!0,rules:{inputs:{description:"Inputs for a `workflow_dispatch` event",keyPlaceholder:"input_name",keyPlaceholderHelp:"Enter the name for the input",map:{nullable:!0,rules:{type:{description:"Type of this input, defaults to 'text'",single:["string"],values:a.XY.isFeatureEnabled("actions_number_type_dispatch_inputs")?["text","choice","boolean","number"]:["text","choice","boolean"]},options:{description:"Options for an input of type 'choice'",multipleValues:!0,items:{single:["string"]}},required:{description:"Whether this input needs to be specified when running the workflow",single:["boolean"],values:["true","false"]},description:{description:"Displays a custom description instead of the name",single:["string"]},default:{async validateValue(e,t,r){let s=(0,i.cy)(e,[...t.slice(0,t.length-1),"type"]);if(s){if("boolean"===s){if("string"==typeof r&&("true"===r||"false"===r)||"boolean"==typeof r&&(!0===r||!1===r))return;return{message:(0,o.qy)`
                      ${(0,i.Ok)("type")} is set to ${(0,i.Ok)(s)} but ${(0,i.Ok)("default")} has invalid value
                    `,severity:"error"}}if(a.XY.isFeatureEnabled("actions_number_type_dispatch_inputs")&&"number"===s){if("number"==typeof r)return;return{message:(0,o.qy)`
                      ${(0,i.Ok)("type")} is set to ${(0,i.Ok)(s)} but ${(0,i.Ok)("default")} has invalid value
                    `,severity:"error"}}}},description:"Default value for this input",single:a.XY.isFeatureEnabled("actions_number_type_dispatch_inputs")?v:["string","boolean"]}}}}}},q.workflow_call={nullable:!0,rules:{inputs:{description:"Inputs for a `workflow_call` event",keyPlaceholder:"input_name",keyPlaceholderHelp:"Enter the name for the input",map:{rules:{description:{description:"Displays a custom description instead of the name",single:["string"]},type:{async validateValue(e,t,r){if("string"!=typeof r||!v.includes(r))return{message:(0,o.qy)` ${(0,i.Ok)("type")} must be one of: ${(0,i.Xh)(v)} `,severity:"error"}},description:"The type of value callers can pass for this input",single:["string"],values:v,required:!0},required:{description:"Whether this input needs to be specified when calling the workflow",single:["boolean"],values:["true","false"]},default:{async validateValue(e,t,r){let s=(0,i.cy)(e,[...t.slice(0,t.length-1),"type"]);if(s&&"string"!==s&&typeof r!==s)return{message:(0,o.qy)`
                      ${(0,i.Ok)("type")} is set to ${(0,i.Ok)(s)}, but ${(0,i.Ok)("default")} is of type
                      ${(0,i.Ok)(typeof r)}
                    `,severity:"error"}},description:"Default value for this input",single:v}}}},outputs:{description:"Outputs for a `workflow_call` event",keyPlaceholder:"output_name",keyPlaceholderHelp:"Enter the name for the output",map:{validateKey:b,rules:{description:{description:"Displays a custom description instead of the name",single:["string"]},value:{description:"The value callers can receive from this output",single:v}}}},secrets:{description:"Inputs passed as secrets for a `workflow_call` event",keyPlaceholder:"secret_name",keyPlaceholderHelp:"Enter the name for the secret",map:{rules:{description:{description:"Displays a custom description instead of the name",single:["string"]},required:{description:"Whether this secret needs to be specified when calling the workflow",single:["boolean"],values:["true","false"]}}}}}},h.clear(),t=e=>{for(let[t,r]of Object.entries(e))if(!h.has(t)){let e="string";r.type?e=O(r.type):r.default&&(e=O(typeof r.default)),h.set(t,e)}},e&&e.on&&(e.on.workflow_dispatch&&e.on.workflow_dispatch.inputs&&t(e.on.workflow_dispatch.inputs),e.on.workflow_call&&e.on.workflow_call.inputs&&t(e.on.workflow_call.inputs)),r}let S={keys:{github:{keys:{event:{},workflow:{},actor:"string",repository:"string",event_name:"string",sha:"string",ref:"string",head_ref:"string",base_ref:"string"}},job:{keys:{status:"string",container:{keys:{network:"string",id:"string"}},services:{keys:{network:"string"},map:{keys:{id:"string",ports:{map:{type:"number"}}}},resolver:async(e,t)=>(0,i.hj)(e,["jobs",t[1],"services"])}}},steps:{map:{keys:{outputs:{map:{type:"string"}}}},async resolver(e,t){let r=(0,i.cy)(e,["jobs",t[1],"steps"])||[];return Array.isArray(r)?r.map(e=>e&&"object"==typeof e&&e.id?String(e.id):"").filter(Boolean):[]}},runner:{},secrets:{keys:{GITHUB_TOKEN:"string"},map:{type:"string"}},matrix:{map:{type:"string"},resolver:async(e,t)=>(0,i.hj)(e,["jobs",t[1],"strategy","matrix"])}}};async function V(e,t,r){let s=e.slice(0),i=S;for(;s.length>0;){let e=(0,n.eK)(s.shift());if(i.keys&&i.keys[e])if("string"==typeof i.keys[e])return null;else i=i.keys[e];else if(s.length>0)return null}if(i.resolver)return(await i.resolver(t,r)).map(e=>({text:e,terminal:!0}));if(i.keys){let e=i.keys;return Object.keys(e).map(t=>({text:t,terminal:"string"==typeof e[t]}))}return null}let K="([a-z0-9_\\-.[\\]']+)?$",P=RegExp(K,"i"),R=RegExp(`\\\${{(?:.+?)?${K}`,"i");async function I(e,t,r){if(+("jobs"!==t[0]||t.length<2||"if"===t[t.length-1])){if("if"===t[t.length-1]){let s=r.match(P);if(s)return W(e,t,s[1]||"")}}else{let s=r.match(R);if(s)return W(e,t,s[1]||"")}return null}async function C(e,t,r,s){let n=[];if(s.single?n=s.single:s.values?n=Array.isArray(s.values)?s.values.map(e=>O(typeof e)):(await s.values(s,t)).map(e=>O(typeof e)):(s.map||s.rules)&&n.push("object"),n.includes("object")){if((0,i.T7)(r))return;if(1===n.length&&(0,i.TA)(r))return(0,u.x)(n,(0,i.Ok)("string"))}for(let e of(0,i.IM)(r)){let t=e.split(".")[1].trim(),r=h.get(t);if(r&&!n.includes(r))return(0,u.x)(n,(0,i.Ok)(r))}}function F(e,t,r){return{name:e,description:t,args:r,jobFunction:!1}}function U(e,t){return{name:e,description:t,args:[],jobFunction:!0}}let N=[F("contains","Returns true if the searchString contains searchValue",[{name:"searchString"},{name:"searchValue"}]),F("startsWith","Returns true when searchString starts with searchValue",[{name:"searchString"},{name:"searchValue"}]),F("endsWith","Returns true if searchString ends with searchValue",[{name:"searchString"},{name:"searchValue"}]),F("format","Replaces values in the string, with the variable replaceValueN",[{name:"string"},{name:"replaceValueN"}]),F("join","All values in element are concatenated into a string",[{name:"element"},{name:"optionalElem"}]),F("toJson","Returns a pretty-print JSON representation of value",[{name:"value"}]),F("hashFiles","Returns a single hash for the set of files that matches the path pattern",[{name:"path"}]),U("success","Returns true when the previous step of a job succeeds"),U("always","Forces a conditional to evaluate as true, even when canceled"),U("cancelled","Returns true if the workflow was canceled"),U("failure","Returns true when the previous step of a job fails")];async function W(e,t,r){let s=r.split(/(?=\[)|(?=\.)/),i=s[s.length-1],a=(0,n.eK)(s[s.length-1]),o=await V(s,e,t)||[],l=(0,n.lk)(o,a).map(e=>{var t,r;return{displayText:e.text,snippet:{tokens:[(t=e.text,r=1===s.length,t.match(/^[a-z][a-z0-9_-]+?$/i)?`${r?"":"."}${t}`:`['${t}']`)],keepCursorLocation:!e.terminal},replace:i}});if(s.length<2){let e=a.toLowerCase(),r="if"===t[t.length-1];for(let t of N){if(t.jobFunction&&!r)continue;let s=t.name.toLowerCase();if(!e||(0,n.F1)(e,s)){let e=[];if(t.args.length>0){for(let r of(e.push(`${t.name}(`),t.args))e.length>1&&e.push(", "),e.push(r.name);e.push(")")}else e.push(`${t.name}()`);l.push({displayText:`${t.name}(${t.args.length>0?"\u2026":""})`,description:t.description,snippet:{tokens:e},replace:i})}}}return l}let H=RegExp("^[0-9]+(\\.\\*)?$","i"),L=RegExp("^[a-zA-Z0-9]([a-zA-Z0-9\\.\\-_]{0,98}[a-zA-Z0-9])?$","i"),B=(0,o.qy)`Image name must start and end with alphanumeric characters and can only contain
alphanumeric characters, dashes, dots and underscores, and be between 1 and 100 characters long`;function D(e,t,r){if(!e.match(t))return{message:r,severity:"error"}}}}]);
//# sourceMappingURL=23262-f15f14ad122c9bf9-9a5dc04f78e177f9.js.map