"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["74357"],{91707(t,e,i){i.r(e),i.d(e,{Attachment:()=>Attachment,default:()=>f});let Attachment=class Attachment{constructor(t,e){this.file=t,this.directory=e,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}static traverse(t,e){var i,r;return i=t,e&&(r=i).items&&Array.from(r.items).some(t=>{let e=t.webkitGetAsEntry&&t.webkitGetAsEntry();return e&&e.isDirectory})?s("",Array.from(i.items).map(t=>t.webkitGetAsEntry()).filter(t=>null!=t)):Promise.resolve(n(Array.from(i.files||[])).map(t=>new Attachment(t)))}static from(t){let e=[];for(let i of t)if(i instanceof File)e.push(new Attachment(i));else if(i instanceof Attachment)e.push(i);else throw Error("Unexpected type");return e}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg","image/svg+xml"].indexOf(this.file.type)>-1}isVideo(){return["video/mp4","video/quicktime"].indexOf(this.file.type)>-1}saving(t){if("pending"!==this.state&&"saving"!==this.state)throw Error(`Unexpected transition from ${this.state} to saving`);this.state="saving",this.percent=t}saved(t){var e,i,n;if("pending"!==this.state&&"saving"!==this.state)throw Error(`Unexpected transition from ${this.state} to saved`);this.state="saved",this.id=null!=(e=null==t?void 0:t.id)?e:null,this.href=null!=(i=null==t?void 0:t.href)?i:null,this.name=null!=(n=null==t?void 0:t.name)?n:null}isPending(){return"pending"===this.state}isSaving(){return"saving"===this.state}isSaved(){return"saved"===this.state}};function n(t){return Array.from(t).filter(t=>!t.name.startsWith("."))}async function s(t,e){let i=[];for(let r of n(e))if(r.isDirectory)i.push(...await s(r.fullPath,await function(t){return new Promise(function(e,i){let n=[],s=t.createReader(),r=()=>{s.readEntries(t=>{t.length>0?(n.push(...t),r()):e(n)},i)};r()})}(r)));else{let e=await function(t){return new Promise(function(e,i){t.file(e,i)})}(r);i.push(new Attachment(e,t))}return i}let FileAttachmentElement=class FileAttachmentElement extends HTMLElement{connectedCallback(){this.addEventListener("dragenter",a),this.addEventListener("dragover",a),this.addEventListener("dragleave",l),this.addEventListener("drop",c),this.addEventListener("paste",h),this.addEventListener("change",u)}disconnectedCallback(){this.removeEventListener("dragenter",a),this.removeEventListener("dragover",a),this.removeEventListener("dragleave",l),this.removeEventListener("drop",c),this.removeEventListener("paste",h),this.removeEventListener("change",u)}get directory(){return this.hasAttribute("directory")}set directory(t){t?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(t){let e=t instanceof DataTransfer?await Attachment.traverse(t,this.directory):Attachment.from(t);this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:e}}))&&e.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:e}}))}};function r(t){return Array.from(t.types).indexOf("Files")>=0}let o=null;function a(t){let e=t.currentTarget;o&&clearTimeout(o),o=window.setTimeout(()=>e.removeAttribute("hover"),200);let i=t.dataTransfer;i&&r(i)&&(i.dropEffect="copy",e.setAttribute("hover",""),t.preventDefault())}function l(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none"),t.currentTarget.removeAttribute("hover"),t.stopPropagation(),t.preventDefault()}function c(t){let e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;e.removeAttribute("hover");let i=t.dataTransfer;i&&r(i)&&(e.attach(i),t.stopPropagation(),t.preventDefault())}let d=/^image\/(gif|png|jpeg)$/;function h(t){if(!t.clipboardData||!t.clipboardData.items)return;let e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;let i=function(t){for(let e of t)if("file"===e.kind&&d.test(e.type))return e.getAsFile();return null}(t.clipboardData.items);i&&(e.attach([i]),t.preventDefault())}function u(t){let e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;let i=t.target;if(!(i instanceof HTMLInputElement))return;let n=e.getAttribute("input");if(n&&i.id!==n)return;let s=i.files;s&&0!==s.length&&(e.attach(s),i.value="")}window.customElements.get("file-attachment")||(window.FileAttachmentElement=FileAttachmentElement,window.customElements.define("file-attachment",FileAttachmentElement));let f=FileAttachmentElement},51419(t,e,i){i.d(e,{bu:()=>v});var n=i(26632),s=i(52704),r=i(93748);let SelectedDiagnostic=class SelectedDiagnostic{constructor(t,e,i){this.from=t,this.to=e,this.diagnostic=i}};let LintState=class LintState{constructor(t,e,i){this.diagnostics=t,this.panel=e,this.selected=i}static init(t,e,i){let s=t,r=i.facet(p).markerFilter;r&&(s=r(s));let a=n.NZ.set(s.map(t=>t.from==t.to||t.from==t.to-1&&i.doc.lineAt(t.from).to==t.from?n.NZ.widget({widget:new DiagnosticWidget(t),diagnostic:t}).range(t.from):n.NZ.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity},diagnostic:t}).range(t.from,t.to)),!0);return new LintState(a,e,o(a))}};function o(t,e=null,i=0){let n=null;return t.between(i,1e9,(t,i,{spec:s})=>{if(!e||s.diagnostic==e)return n=new SelectedDiagnostic(t,i,s.diagnostic),!1}),n}function a(t,e){return!!(t.effects.some(t=>t.is(l))||t.changes.touchesRange(e.pos))}let l=s.Pe.define(),c=s.Pe.define(),d=s.Pe.define(),h=s.sU.define({create:()=>new LintState(n.NZ.none,null,null),update(t,e){if(e.docChanged){let i=t.diagnostics.map(e.changes),n=null;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);n=o(i,t.selected.diagnostic,s)||o(i,null,s)}t=new LintState(i,t.panel,n)}for(let i of e.effects)i.is(l)?t=LintState.init(i.value,t.panel,e.state):i.is(c)?t=new LintState(t.diagnostics,i.value?LintPanel.open:null,t.selected):i.is(d)&&(t=new LintState(t.diagnostics,t.panel,i.value));return t},provide:t=>[n.S7.from(t,t=>t.panel),n.Lz.decorations.from(t,t=>t.diagnostics)]}),u=n.NZ.mark({class:"cm-lintRange cm-lintRange-active"});function f(t,e,i){let{diagnostics:n}=t.state.field(h),s=[],o=2e8,a=0;n.between(e-(i<0),e+ +(i>0),(t,n,{spec:r})=>{e>=t&&e<=n&&(t==n||(e>t||i>0)&&(e<n||i<0))&&(s.push(r.diagnostic),o=Math.min(t,o),a=Math.max(n,a))});let l=t.state.facet(p).tooltipFilter;return(l&&(s=l(s)),s.length)?{pos:o,end:a,above:t.state.doc.lineAt(o).to<a,create:()=>({dom:function(t,e){return(0,r.A)("ul",{class:"cm-tooltip-lint"},e.map(e=>w(t,e,!1)))}(t,s)})}:null}let m=t=>{let e=t.state.field(h,!1);return!!e&&!!e.panel&&(t.dispatch({effects:c.of(!1)}),!0)},g=n.Z9.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(p);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:t}=this.view,{sources:e}=t.facet(p);Promise.all(e.map(t=>Promise.resolve(t(this.view)))).then(e=>{var i,r;let o=e.reduce((t,e)=>t.concat(e));this.view.state.doc==t.doc&&this.view.dispatch((i=this.view.state,{effects:(r=[l.of(o)],i.field(h,!1)?r:r.concat(s.Pe.appendConfig.of([h,n.Lz.decorations.compute([h],t=>{let{selected:e,panel:i}=t.field(h);return e&&i&&e.from!=e.to?n.NZ.set([u.range(e.from,e.to)]):n.NZ.none}),(0,n.Ux)(f,{hideOn:a}),y])))}))},t=>{(0,n.c_)(this.view.state,t)})}}update(t){let e=t.state.facet(p);(t.docChanged||e!=t.startState.facet(p)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),p=s.sj.define({combine:t=>Object.assign({sources:t.map(t=>t.source)},(0,s.QR)(t.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,e)=>t?e?i=>t(i)||e(i):t:e})),enables:g});function v(t,e={}){return p.of({source:t,config:e})}function b(t){let e=[];if(t)t:for(let{name:i}of t){for(let t=0;t<i.length;t++){let n=i[t];if(/[a-zA-Z]/.test(n)&&!e.some(t=>t.toLowerCase()==n.toLowerCase())){e.push(n);continue t}}e.push("")}return e}function w(t,e,i){var n;let s=i?b(e.actions):[];return(0,r.A)("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},(0,r.A)("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null==(n=e.actions)?void 0:n.map((i,n)=>{let a=!1,l=n=>{if(n.preventDefault(),a)return;a=!0;let s=o(t.state.field(h).diagnostics,e);s&&i.apply(t,s.from,s.to)},{name:c}=i,d=s[n]?c.indexOf(s[n]):-1,u=d<0?c:[c.slice(0,d),(0,r.A)("u",c.slice(d,d+1)),c.slice(d+1)];return(0,r.A)("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${d<0?"":` (access key "${s[n]})"`}.`},u)}),e.source&&(0,r.A)("div",{class:"cm-diagnosticSource"},e.source))}let DiagnosticWidget=class DiagnosticWidget extends n.xO{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return(0,r.A)("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}};let PanelItem=class PanelItem{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(0xffffffff*Math.random()).toString(16),this.dom=w(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}};let LintPanel=class LintPanel{constructor(t){this.view=t,this.items=[];let e=e=>{if(27==e.keyCode)m(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65)||!(e.keyCode<=90)||!(this.selectedIndex>=0))return;let{diagnostic:i}=this.items[this.selectedIndex],n=b(i.actions);for(let s=0;s<n.length;s++)if(n[s].toUpperCase().charCodeAt(0)==e.keyCode){let e=o(this.view.state.field(h).diagnostics,i);e&&i.actions[s].apply(t,e.from,e.to)}}e.preventDefault()},i=t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)};this.list=(0,r.A)("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e,onclick:i}),this.dom=(0,r.A)("div",{class:"cm-panel-lint"},this.list,(0,r.A)("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>m(this.view)},"\xd7")),this.update()}get selectedIndex(){let t=this.view.state.field(h).selected;if(!t)return -1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return -1}update(){let{diagnostics:t,selected:e}=this.view.state.field(h),i=0,n=!1,s=null;for(t.between(0,this.view.state.doc.length,(t,r,{spec:o})=>{let a=-1,l;for(let t=i;t<this.items.length;t++)if(this.items[t].diagnostic==o.diagnostic){a=t;break}a<0?(l=new PanelItem(this.view,o.diagnostic),this.items.splice(i,0,l),n=!0):(l=this.items[a],a>i&&(this.items.splice(i,a-i),n=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),s=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{t.top<e.top?this.list.scrollTop-=e.top-t.top:t.bottom>e.bottom&&(this.list.scrollTop+=t.bottom-e.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;t!=i.dom;)e();t=i.dom.nextSibling}else this.list.insertBefore(i.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=o(this.view.state.field(h).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:d.of(e)})}static open(t){return new LintPanel(t)}};function A(t){return function(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}let y=n.Lz.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:A("#d11")},".cm-lintRange-warning":{backgroundImage:A("orange")},".cm-lintRange-info":{backgroundImage:A("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});n.wJ;let x=s.Pe.define()},3184(t,e,i){i.d(e,{_:()=>s});var n=i(37351);function s(t,e,i){return(0,n._)(t,e),i}},51088(t,e,i){i.d(e,{A:()=>r});let n=[],s=[];function r(t,e){let i,r,o,a;if(t===e)return 0;let l=t;t.length>e.length&&(t=e,e=l);let c=t.length,d=e.length;for(;c>0&&t.charCodeAt(~-c)===e.charCodeAt(~-d);)c--,d--;let h=0;for(;h<c&&t.charCodeAt(h)===e.charCodeAt(h);)h++;if(c-=h,d-=h,0===c)return d;let u=0,f=0;for(;u<c;)s[u]=t.charCodeAt(h+u),n[u]=++u;for(;f<d;)for(u=0,i=e.charCodeAt(h+f),o=f++,r=f;u<c;u++)a=i===s[u]?o:o+1,o=n[u],r=n[u]=o>r?a>r?r+1:a:a>o?o+1:a;return r}},52246(t,e,i){i.d(e,{A:()=>c});var n=i(23149),s=i(41917);let r=function(){return s.A.Date.now()};var o=i(41127),a=Math.max,l=Math.min;let c=function(t,e,i){var s,c,d,h,u,f,m=0,g=!1,p=!1,v=!0;if("function"!=typeof t)throw TypeError("Expected a function");function b(e){var i=s,n=c;return s=c=void 0,m=e,h=t.apply(n,i)}function w(t){var i=t-f,n=t-m;return void 0===f||i>=e||i<0||p&&n>=d}function A(){var t,i,n,s=r();if(w(s))return y(s);u=setTimeout(A,(t=s-f,i=s-m,n=e-t,p?l(n,d-i):n))}function y(t){return(u=void 0,v&&s)?b(t):(s=c=void 0,h)}function x(){var t,i=r(),n=w(i);if(s=arguments,c=this,f=i,n){if(void 0===u)return m=t=f,u=setTimeout(A,e),g?b(t):h;if(p)return clearTimeout(u),u=setTimeout(A,e),b(f)}return void 0===u&&(u=setTimeout(A,e)),h}return e=(0,o.A)(e)||0,(0,n.A)(i)&&(g=!!i.leading,d=(p="maxWait"in i)?a((0,o.A)(i.maxWait)||0,e):d,v="trailing"in i?!!i.trailing:v),x.cancel=function(){void 0!==u&&clearTimeout(u),m=0,s=f=c=u=void 0},x.flush=function(){return void 0===u?h:y(r())},x}},61882(t,e,i){i.d(e,{A:()=>r});var n=i(18348),s=i(53098);let r=function(t){return"symbol"==typeof t||(0,s.A)(t)&&"[object Symbol]"==(0,n.A)(t)}},41127(t,e,i){i.d(e,{A:()=>f});var n=/\s/;let s=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e};var r=/^\s+/,o=i(23149),a=i(61882),l=0/0,c=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,h=/^0o[0-7]+$/i,u=parseInt;let f=function(t){if("number"==typeof t)return t;if((0,a.A)(t))return l;if((0,o.A)(t)){var e,i="function"==typeof t.valueOf?t.valueOf():t;t=(0,o.A)(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)?e.slice(0,s(e)+1).replace(r,""):e;var n=d.test(t);return n||h.test(t)?u(t.slice(2),n?2:8):c.test(t)?l:+t}}}]);
//# sourceMappingURL=chunk-74357-cd74291645c01df5-f0c13daec5b2d7c7.js.map